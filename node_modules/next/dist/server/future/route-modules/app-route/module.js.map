{"version":3,"sources":["../../../../../src/server/future/route-modules/app-route/module.ts"],"names":["AppRouteRouteModule","requestAsyncStorage","require","staticGenerationAsyncStorage","serverHooks","headerHooks","staticGenerationBailout","actionAsyncStorage","RouteModule","constructor","userland","definition","resolvedPagePath","nextConfigOutput","hasSetup","methods","autoImplementMethods","nonStaticMethods","getNonStaticMethods","dynamic","Error","pathname","setup","process","env","NODE_ENV","lowercased","HTTP_METHODS","map","method","toLowerCase","Log","error","toUpperCase","some","resolve","isHTTPMethod","handleBadRequestResponse","execute","request","context","handler","requestContext","req","renderOpts","previewProps","prerenderManifest","preview","staticGenerationContext","supportsDynamicHTML","fetchCache","response","run","isAppRoute","RequestAsyncStorageWrapper","wrap","StaticGenerationAsyncStorageWrapper","staticGenerationStore","getTracer","join","forceDynamic","forceStatic","dynamicShouldError","revalidate","wrappedRequest","proxyRequest","route","getPathnameFromAbsolutePath","getRootSpanAttributes","set","trace","AppRouteRouteHandlersSpan","runHandler","spanName","attributes","patchFetch","res","params","fetchMetrics","Promise","all","pendingRevalidates","addImplicitTags","fetchTags","tags","requestStore","getStore","mutableCookies","headers","Headers","appendMutableCookies","Response","body","status","statusText","handleInternalServerErrorResponse","has","get","handle","err","resolveHandlerError"],"mappings":"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"}