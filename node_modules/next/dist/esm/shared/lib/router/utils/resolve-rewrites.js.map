{"version":3,"sources":["../../../../../src/shared/lib/router/utils/resolve-rewrites.ts"],"names":["getPathMatch","matchHas","prepareDestination","removeTrailingSlash","normalizeLocalePath","removeBasePath","parseRelativeUrl","resolveRewrites","asPath","pages","rewrites","query","resolveHref","locales","matchedPage","externalDest","parsedAs","fsPathname","pathname","resolvedHref","handleRewrite","rewrite","matcher","source","process","env","__NEXT_TRAILING_SLASH","removeUnnamedParams","strict","params","has","missing","hasParams","headers","host","document","location","hostname","cookies","cookie","split","reduce","acc","item","key","value","join","Object","assign","destination","destRes","appendParamsToQuery","parsedDestination","newUrl","includes","finished","i","beforeFiles","length","afterFiles","fallback"],"mappings":"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"}