{"version":3,"sources":["../../../../src/client/dev/error-overlay/websocket.ts"],"names":["addMessageListener","sendMessage","connectHMR","source","eventCallbacks","lastActivity","Date","now","getSocketProtocol","assetPrefix","protocol","location","URL","_","cb","push","data","readyState","OPEN","send","options","timeout","init","close","handleOnline","log","console","handleMessage","event","forEach","timer","handleDisconnect","clearInterval","onerror","setTimeout","setInterval","hostname","port","replace","url","startsWith","split","window","WebSocket","path","onopen","onmessage"],"mappings":";;;;;;;;;;;;;;;;IAegBA,kBAAkB;eAAlBA;;IAIAC,WAAW;eAAXA;;IAKAC,UAAU;eAAVA;;;AAxBhB,IAAIC;AACJ,MAAMC,iBAA2C,EAAE;AACnD,IAAIC,eAAeC,KAAKC,GAAG;AAE3B,SAASC,kBAAkBC,WAAmB,EAAU;IACtD,IAAIC,WAAWC,SAASD,QAAQ;IAEhC,IAAI;QACF,uBAAuB;QACvBA,WAAW,IAAIE,IAAIH,aAAaC,QAAQ;IAC1C,EAAE,OAAOG,GAAG,CAAC;IAEb,OAAOH,aAAa,UAAU,OAAO,KAAK;AAC5C;AAEO,SAASV,mBAAmBc,EAAwB,EAAE;IAC3DV,eAAeW,IAAI,CAACD;AACtB;AAEO,SAASb,YAAYe,IAAS,EAAE;IACrC,IAAI,CAACb,UAAUA,OAAOc,UAAU,KAAKd,OAAOe,IAAI,EAAE;IAClD,OAAOf,OAAOgB,IAAI,CAACH;AACrB;AAEO,SAASd,WAAWkB,OAK1B,EAAE;IACD,IAAI,CAACA,QAAQC,OAAO,EAAE;QACpBD,QAAQC,OAAO,GAAG,IAAI;IACxB,CAAC;IAED,SAASC,OAAO;QACd,IAAInB,QAAQA,OAAOoB,KAAK;QAExB,SAASC,eAAe;YACtB,IAAIJ,QAAQK,GAAG,EAAEC,QAAQD,GAAG,CAAC;YAC7BpB,eAAeC,KAAKC,GAAG;QACzB;QAEA,SAASoB,cAAcC,KAAU,EAAE;YACjCvB,eAAeC,KAAKC,GAAG;YAEvBH,eAAeyB,OAAO,CAAC,CAACf,KAAO;gBAC7BA,GAAGc;YACL;QACF;QAEA,IAAIE;QACJ,SAASC,mBAAmB;YAC1BC,cAAcF;YACd3B,OAAO8B,OAAO,GAAG,IAAI;YACrB9B,OAAOoB,KAAK;YACZW,WAAWZ,MAAMF,QAAQC,OAAO;QAClC;QACAS,QAAQK,YAAY,WAAY;YAC9B,IAAI7B,KAAKC,GAAG,KAAKF,eAAgBe,QAAQC,OAAO,EAAU;gBACxDU;YACF,CAAC;QACH,GAAG,AAACX,QAAQC,OAAO,GAAW;QAE9B,MAAM,EAAEe,SAAQ,EAAEC,KAAI,EAAE,GAAG1B;QAC3B,MAAMD,WAAWF,kBAAkBY,QAAQX,WAAW,IAAI;QAC1D,MAAMA,cAAcW,QAAQX,WAAW,CAAC6B,OAAO,CAAC,QAAQ;QAExD,IAAIC,MAAM,AAAG7B,WAAS,QAAK0B,WAAS,MAAGC,OACrC5B,CAAAA,cAAc,AAAC,MAAGA,cAAgB,EAAE,AAAD;QAGrC,IAAIA,YAAY+B,UAAU,CAAC,SAAS;YAClCD,MAAM,AAAG7B,WAAS,QAAKD,YAAYgC,KAAK,CAAC,MAAM,CAAC,EAAE;QACpD,CAAC;QAEDtC,SAAS,IAAIuC,OAAOC,SAAS,CAAC,AAAC,KAAEJ,MAAMnB,QAAQwB,IAAI;QACnDzC,OAAO0C,MAAM,GAAGrB;QAChBrB,OAAO8B,OAAO,GAAGF;QACjB5B,OAAO2C,SAAS,GAAGnB;IACrB;IAEAL;AACF"}