{"version":3,"sources":["../../../src/server/app-render/use-flight-response.tsx"],"names":["readableStreamTee","encodeText","decodeText","htmlEscapeJsonString","isEdgeRuntime","useFlightResponse","writable","req","clientReferenceManifest","rscChunks","flightResponseRef","nonce","current","createFromReadableStream","require","renderStream","forwardStream","res","moduleMap","edgeSSRModuleMapping","ssrModuleMapping","bootstrapped","forwardReader","getReader","writer","getWriter","startScriptTag","JSON","stringify","textDecoder","TextDecoder","read","then","done","value","push","write","close","responsePartial","scripts"],"mappings":"AAEA,SAASA,iBAAiB,QAAQ,0CAAyC;AAC3E,SAASC,UAAU,EAAEC,UAAU,QAAQ,gCAA+B;AACtE,SAASC,oBAAoB,QAAQ,gBAAe;AACpD,SAASC,aAAa,QAAQ,eAAc;AAE5C;;;CAGC,GACD,OAAO,SAASC,kBACdC,QAAoC,EACpCC,GAA+B,EAC/BC,uBAAgD,EAChDC,SAAuB,EACvBC,iBAAoC,EACpCC,KAAc,EACQ;IACtB,IAAID,kBAAkBE,OAAO,KAAK,IAAI,EAAE;QACtC,OAAOF,kBAAkBE,OAAO;IAClC,CAAC;IACD,MAAM,EACJC,yBAAwB,EACzB,GAAGC,QAAQ,CAAC,oCAAoC,CAAC;IAElD,MAAM,CAACC,cAAcC,cAAc,GAAGhB,kBAAkBO;IACxD,MAAMU,MAAMJ,yBAAyBE,cAAc;QACjDG,WAAWd,gBACPI,wBAAwBW,oBAAoB,GAC5CX,wBAAwBY,gBAAgB;IAC9C;IACAV,kBAAkBE,OAAO,GAAGK;IAE5B,IAAII,eAAe,KAAK;IACxB,iDAAiD;IACjD,MAAMC,gBAAgBN,cAAcO,SAAS;IAC7C,MAAMC,SAASlB,SAASmB,SAAS;IACjC,MAAMC,iBAAiBf,QACnB,CAAC,cAAc,EAAEgB,KAAKC,SAAS,CAACjB,OAAO,CAAC,CAAC,GACzC,UAAU;IACd,MAAMkB,cAAc,IAAIC;IAExB,SAASC,OAAO;QACdT,cAAcS,IAAI,GAAGC,IAAI,CAAC,CAAC,EAAEC,KAAI,EAAEC,MAAK,EAAE,GAAK;YAC7C,IAAIA,OAAO;gBACTzB,UAAU0B,IAAI,CAACD;YACjB,CAAC;YAED,IAAI,CAACb,cAAc;gBACjBA,eAAe,IAAI;gBACnBG,OAAOY,KAAK,CACVnC,WACE,CAAC,EAAEyB,eAAe,uCAAuC,EAAEvB,qBACzDwB,KAAKC,SAAS,CAAC;oBAAC;iBAAE,GAClB,UAAU,CAAC;YAGnB,CAAC;YACD,IAAIK,MAAM;gBACRvB,kBAAkBE,OAAO,GAAG,IAAI;gBAChCY,OAAOa,KAAK;YACd,OAAO;gBACL,MAAMC,kBAAkBpC,WAAWgC,OAAOL;gBAC1C,MAAMU,UAAU,CAAC,EAAEb,eAAe,mBAAmB,EAAEvB,qBACrDwB,KAAKC,SAAS,CAAC;oBAAC;oBAAGU;iBAAgB,GACnC,UAAU,CAAC;gBAEbd,OAAOY,KAAK,CAACnC,WAAWsC;gBACxBR;YACF,CAAC;QACH;IACF;IACAA;IAEA,OAAOd;AACT,CAAC"}