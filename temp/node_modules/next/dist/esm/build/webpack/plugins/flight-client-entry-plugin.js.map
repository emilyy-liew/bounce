{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","FLIGHT_SERVER_CSS_MANIFEST","generateActionId","getActions","isClientComponentEntryModule","isCSSMod","traverseModules","forEachEntryModule","normalizePathSep","getProxiedPluginState","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverCSSManifest","edgeServerCSSManifest","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","ClientReferenceEntryPlugin","constructor","options","dev","appDir","isEdgeServer","useServerActions","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","resource","layer","client","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","String","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","addActionEntryList","actionMapsPerEntry","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientComponentImports","actionImports","collectComponentInfoFromDependencies","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injectClientEntryAndSSRModules","clientImports","size","errors","Error","injectActionEntry","actions","collectClientEntryDependencyMap","clientEntryDependencyMap","entry","get","includeDependencies","getResolvedModule","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","tracked","clientActionImports","fromClient","Promise","all","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","cssModules","data","manifest","JSON","undefined","RawSource","invalidator","outputPath","some","shouldInvalidate","invalidate","map","addClientEntryAndSSRModules","visitedBySegment","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","isCSS","modRequest","query","storeKey","isClientComponent","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","test","Array","from","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","__client_imported__","currentCompilerServerActions","p","id","workers","action","actionEntryDep","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","mapping","json","node","edge"],"mappings":"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"}