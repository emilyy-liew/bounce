{"version":3,"sources":["../../../../src/client/dev/error-overlay/websocket.ts"],"names":["source","eventCallbacks","lastActivity","Date","now","getSocketProtocol","assetPrefix","protocol","location","URL","_","addMessageListener","cb","push","sendMessage","data","readyState","OPEN","send","connectHMR","options","timeout","init","close","handleOnline","log","console","handleMessage","event","forEach","timer","handleDisconnect","clearInterval","onerror","setTimeout","setInterval","hostname","port","replace","url","startsWith","split","window","WebSocket","path","onopen","onmessage"],"mappings":"AAAA,IAAIA;AACJ,MAAMC,iBAA2C,EAAE;AACnD,IAAIC,eAAeC,KAAKC,GAAG;AAE3B,SAASC,kBAAkBC,WAAmB,EAAU;IACtD,IAAIC,WAAWC,SAASD,QAAQ;IAEhC,IAAI;QACF,uBAAuB;QACvBA,WAAW,IAAIE,IAAIH,aAAaC,QAAQ;IAC1C,EAAE,OAAOG,GAAG,CAAC;IAEb,OAAOH,aAAa,UAAU,OAAO,KAAK;AAC5C;AAEA,OAAO,SAASI,mBAAmBC,EAAwB,EAAE;IAC3DX,eAAeY,IAAI,CAACD;AACtB,CAAC;AAED,OAAO,SAASE,YAAYC,IAAS,EAAE;IACrC,IAAI,CAACf,UAAUA,OAAOgB,UAAU,KAAKhB,OAAOiB,IAAI,EAAE;IAClD,OAAOjB,OAAOkB,IAAI,CAACH;AACrB,CAAC;AAED,OAAO,SAASI,WAAWC,OAK1B,EAAE;IACD,IAAI,CAACA,QAAQC,OAAO,EAAE;QACpBD,QAAQC,OAAO,GAAG,IAAI;IACxB,CAAC;IAED,SAASC,OAAO;QACd,IAAItB,QAAQA,OAAOuB,KAAK;QAExB,SAASC,eAAe;YACtB,IAAIJ,QAAQK,GAAG,EAAEC,QAAQD,GAAG,CAAC;YAC7BvB,eAAeC,KAAKC,GAAG;QACzB;QAEA,SAASuB,cAAcC,KAAU,EAAE;YACjC1B,eAAeC,KAAKC,GAAG;YAEvBH,eAAe4B,OAAO,CAAC,CAACjB,KAAO;gBAC7BA,GAAGgB;YACL;QACF;QAEA,IAAIE;QACJ,SAASC,mBAAmB;YAC1BC,cAAcF;YACd9B,OAAOiC,OAAO,GAAG,IAAI;YACrBjC,OAAOuB,KAAK;YACZW,WAAWZ,MAAMF,QAAQC,OAAO;QAClC;QACAS,QAAQK,YAAY,WAAY;YAC9B,IAAIhC,KAAKC,GAAG,KAAKF,eAAgBkB,QAAQC,OAAO,EAAU;gBACxDU;YACF,CAAC;QACH,GAAG,AAACX,QAAQC,OAAO,GAAW;QAE9B,MAAM,EAAEe,SAAQ,EAAEC,KAAI,EAAE,GAAG7B;QAC3B,MAAMD,WAAWF,kBAAkBe,QAAQd,WAAW,IAAI;QAC1D,MAAMA,cAAcc,QAAQd,WAAW,CAACgC,OAAO,CAAC,QAAQ;QAExD,IAAIC,MAAM,AAAGhC,WAAS,QAAK6B,WAAS,MAAGC,OACrC/B,CAAAA,cAAc,AAAC,MAAGA,cAAgB,EAAE,AAAD;QAGrC,IAAIA,YAAYkC,UAAU,CAAC,SAAS;YAClCD,MAAM,AAAGhC,WAAS,QAAKD,YAAYmC,KAAK,CAAC,MAAM,CAAC,EAAE;QACpD,CAAC;QAEDzC,SAAS,IAAI0C,OAAOC,SAAS,CAAC,AAAC,KAAEJ,MAAMnB,QAAQwB,IAAI;QACnD5C,OAAO6C,MAAM,GAAGrB;QAChBxB,OAAOiC,OAAO,GAAGF;QACjB/B,OAAO8C,SAAS,GAAGnB;IACrB;IAEAL;AACF,CAAC"}