{"version":3,"sources":["../../../src/server/app-render/use-flight-response.tsx"],"names":["useFlightResponse","writable","req","clientReferenceManifest","rscChunks","flightResponseRef","nonce","current","createFromReadableStream","require","renderStream","forwardStream","readableStreamTee","res","moduleMap","isEdgeRuntime","edgeSSRModuleMapping","ssrModuleMapping","bootstrapped","forwardReader","getReader","writer","getWriter","startScriptTag","JSON","stringify","textDecoder","TextDecoder","read","then","done","value","push","write","encodeText","htmlEscapeJsonString","close","responsePartial","decodeText","scripts"],"mappings":";;;;+BAWgBA;;;eAAAA;;;sCATkB;8BACK;4BACF;2BACP;AAMvB,SAASA,kBACdC,QAAoC,EACpCC,GAA+B,EAC/BC,uBAAgD,EAChDC,SAAuB,EACvBC,iBAAoC,EACpCC,KAAc,EACQ;IACtB,IAAID,kBAAkBE,OAAO,KAAK,IAAI,EAAE;QACtC,OAAOF,kBAAkBE,OAAO;IAClC,CAAC;IACD,MAAM,EACJC,yBAAwB,EACzB,GAAGC,QAAQ,CAAC,oCAAoC,CAAC;IAElD,MAAM,CAACC,cAAcC,cAAc,GAAGC,IAAAA,uCAAiB,EAACV;IACxD,MAAMW,MAAML,yBAAyBE,cAAc;QACjDI,WAAWC,wBAAa,GACpBZ,wBAAwBa,oBAAoB,GAC5Cb,wBAAwBc,gBAAgB;IAC9C;IACAZ,kBAAkBE,OAAO,GAAGM;IAE5B,IAAIK,eAAe,KAAK;IACxB,iDAAiD;IACjD,MAAMC,gBAAgBR,cAAcS,SAAS;IAC7C,MAAMC,SAASpB,SAASqB,SAAS;IACjC,MAAMC,iBAAiBjB,QACnB,CAAC,cAAc,EAAEkB,KAAKC,SAAS,CAACnB,OAAO,CAAC,CAAC,GACzC,UAAU;IACd,MAAMoB,cAAc,IAAIC;IAExB,SAASC,OAAO;QACdT,cAAcS,IAAI,GAAGC,IAAI,CAAC,CAAC,EAAEC,KAAI,EAAEC,MAAK,EAAE,GAAK;YAC7C,IAAIA,OAAO;gBACT3B,UAAU4B,IAAI,CAACD;YACjB,CAAC;YAED,IAAI,CAACb,cAAc;gBACjBA,eAAe,IAAI;gBACnBG,OAAOY,KAAK,CACVC,IAAAA,wBAAU,EACR,CAAC,EAAEX,eAAe,uCAAuC,EAAEY,IAAAA,gCAAoB,EAC7EX,KAAKC,SAAS,CAAC;oBAAC;iBAAE,GAClB,UAAU,CAAC;YAGnB,CAAC;YACD,IAAIK,MAAM;gBACRzB,kBAAkBE,OAAO,GAAG,IAAI;gBAChCc,OAAOe,KAAK;YACd,OAAO;gBACL,MAAMC,kBAAkBC,IAAAA,wBAAU,EAACP,OAAOL;gBAC1C,MAAMa,UAAU,CAAC,EAAEhB,eAAe,mBAAmB,EAAEY,IAAAA,gCAAoB,EACzEX,KAAKC,SAAS,CAAC;oBAAC;oBAAGY;iBAAgB,GACnC,UAAU,CAAC;gBAEbhB,OAAOY,KAAK,CAACC,IAAAA,wBAAU,EAACK;gBACxBX;YACF,CAAC;QACH;IACF;IACAA;IAEA,OAAOf;AACT"}